name = "florion"
main = "src/index.ts"
compatibility_date = "2025-08-03"

[assets]
directory = "public"

# =============================================================
# Durable Objects
# =============================================================

[[durable_objects.bindings]]
name = "AGENT"
class_name = "OrionAgentV2"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["OrionAgentV2"]

# Increased CPU limit for complex agent operations (5 minutes)
[durable_objects.limits]
cpu_ms = 300000

# -------------------------------------------------
# D1 Database binding (NEW - for persistent storage)
# -------------------------------------------------
[[d1_databases]]
binding = "DB"
database_name = "orinx-db"
database_id = "7d31bd26-9b8d-48ef-903b-b0000af23af2"


[[vectorize]]
binding = "VECTORIZE" # available in your Worker on env.VECTORIZE
index_name = "memory-index"


# -------------------------------------------------
# Environment Variables
# -------------------------------------------------
[vars]
GEMINI_API_KEY = "AIzaSyDxD7WiixJUVw6h0HWqW6lS8pHpVihnNTM"
B2_KEY_ID = "0054fa48bcd04c50000000001"
B2_KEY_SECRET = "K005F4qiG/n64dIlUlsz8Ot5Ruyn1eM"
B2_S3_ENDPOINT = "s3.us-east-005.backblazeb2.com"
B2_BUCKET = "OrionSpace"
B2_BASE_PATH = "orion-workspace/"
